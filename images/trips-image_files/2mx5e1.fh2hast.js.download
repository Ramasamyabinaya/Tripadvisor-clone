(this.$WP=this.$WP||[]).push(["2mx5e1",(e,t)=>{var i,a,r,n,s,o,l,d,p,c,u,m,_,v,g,h,y,b,f,T,D,P,C,I,S,w,N,k,x,M,A,E,L,B,j,G,q,O,R,F,W,z,V,$,H,Q,U,Y,Z,J,K,X,ee,et,ei,ea,er,en,es,eo,el,ed,ep,ec,eu,em,e_,ev,eg,eh,ey,eb,ef,eT,eD,eP,eC,eI,eS,ew,eN,ek,ex,eM,eA,eE,eL,eB,ej,eG,eq,eO,eR,eF,eW,ez,eV,e$,eH,eQ,eU,eY,eZ,eJ,eK,eX,e0,e1,e2,e5,e3,e4,e6,e9,e7,e8,te,tt=({title:e,subtitle:t,align:r="left",...n})=>i("section",{className:eV(e$(n),{FTXhb:"left"===r,hioxQ:"center"===r}),children:[a(ea,{elementType:"p",variant:"title-02",marginBottom:t?"spacing-03":"spacing-06",dataAttributes:{"data-automation":"gai_page_title"},children:e}),t&&a(ea,{elementType:"p",variant:"body-01",color:"placeholderText",marginBottom:"spacing-03",dataAttributes:{"data-automation":"gai_page_subtitle"},children:t})]}),ti=({icon:e,text:t})=>i("div",{className:"QuCzs f u",children:[a(e,{marginRight:"spacing-02"}),t]}),ta=["January","February","March","April","May","June","July","August","September","October","November","December"],tr={container:"pbuTL",chips:"iYIuc f K",spinner:"f j"},tn={__key:0xad94abb6d510,id:"ad94abb6d510cb4e",loc:{},definitions:[]};function ts(){var{state:e,dispatch:t}=tM(),o=F(),{localize:l}=N(),{isLoading:d,interestTags:p,hasError:c}=function(e){var[{data:t,fetching:i,error:a}]=en({query:tn,variables:{request:{locationIds:[e??0]}},pause:!e});return{isLoading:i,interestTags:t?.Trips_getInterestTagsForLocation?.locationInterestTags?.[0]?.tags?.filter(Boolean).slice(0,12)||[],hasError:!!a}}(e.userPrompts.location?.locationId),u=n(()=>!d&&c?eY.map(t=>({...t,selected:e.userPrompts.activities.includes(t.value),dataAttributes:{"data-automation":`gai_activities_prompt_${t.value}_chip`}})):p?.map(t=>({label:t.name,value:t.name,selected:e.userPrompts.activities.includes(t.name),dataAttributes:{"data-automation":`gai_activities_prompt_${t.name}_chip`}}))||[],[d,p,c,e.userPrompts.activities]),m=n(()=>u.map(e=>e.value),[u]),_=e=>{t({type:"setOtherActivities",otherActivities:e})},v=e=>{t({type:"setDynamicActivities",dynamicActivities:e})},g=s(()=>{o("SelectActivities",{dynamicActivities:u.map(e=>e.value).join(", ")})},[o,u]),h=J(()=>{g(),v(m)});return i("div",{className:tr.container,children:[d?a("div",{className:tr.spinner,children:a(ee,{variant:"medium"})}):a("div",{className:tr.chips,ref:h,children:a(eF,{id:"trips-activities",display:"chip",onChange:e=>{t({type:"setActivities",activities:e})},values:u})}),a(eW,{maxLength:50,characterCountType:"max",value:e.userPrompts.otherActivities,marginY:"spacing-05",helperText:l.string("trips_gai_trip_prompts_activities_screen_helper_text"),placeholder:l.string("trips_gai_trip_prompts_activities_screen_placeholder"),onChange:e=>_(e.target.value),label:i(r,{children:[i(ea,{elementType:"span",variant:"title-05",children:[l.string("trips_gai_trip_prompts_activities_screen_other")," "]}),a(ea,{elementType:"span",variant:"body-01",color:"placeholderText",children:l.string("trips_gai_trip_prompts_optional")})]}),"data-automation":"gai_activities_prompt_other_activities_input"})]})}var to=({label:e,endDate:t,startDate:r,maxRangeDays:n,onDateRangeSelect:s})=>{var[d]=o(new Date),[p]=o(new Date),c=l(null),[u,m]=o(),_=k(),{localize:v}=N(),g=U();return i("div",{className:"VsaVk e",children:[e&&a(ea,{elementType:"p",variant:"title-05",marginBottom:"spacing-03",children:e}),i("div",{className:"rQoro z u Pa PW Pn PI Gi Cj",ref:c,children:[a(eT,{size:24}),a(ea,{elementType:"span",variant:"input-03",marginLeft:"spacing-02",children:a(w,{id:"plus_checkout_dates_range",args:{0:r?_.formatDate("date_short_month",r):v.string("saves_start_date"),1:t?_.formatDate("date_short_month",t):v.string("saves_end_date")}})})]}),a(eD,{maxRangeDays:n,fromMonth:d,monthRange:12,disableBefore:p,startDate:r,endDate:t,numberOfMonths:"TABLET"===g||"MOBILE"===g?1:2,layoutStyle:"paginated",onDateSelect:e=>{u&&e>=u?e&&u&&(s(new Date(Math.min(u.getTime(),e.getTime())),new Date(Math.max(u.getTime(),e.getTime()))),m(void 0)):m(e)}})]})},tl={carousel:"EBGdZ",scrollContainer:"UQrin _t",items:"SXRWH",item:"hgfpx Fg I _u",scrollButton:"UMOKA",buttonWrapper:"CcMGf t e j",back:"RithP",forward:"YIrSH"},td={aspectRatio:"1:1",sizeHint:{mobile:"50vw",tablet:"20vw"}},tp=({icon:e,label:t,disabled:i,onClick:r,dataAttributes:n})=>a("span",{className:tl.scrollButton,children:a(C,{icon:e,variant:"primary-border","aria-label":t,disabled:i,onClick:r,...n})}),tc=({children:e})=>{var{localize:t}=N(),[r,{canGoBack:n,canGoForward:s,goBack:o,goForward:l,checkScrollPosition:u}]=em({waypointSelector:"[data-carousel-waypoint]"}),m=s||n;return d(()=>{u()},[u,e]),a(e_.Provider,{value:td,children:i("div",{className:tl.carousel,children:[a("div",{className:tl.scrollContainer,ref:r,children:a("ul",{className:tl.items,children:p.map(e,e=>i("li",{className:tl.item,children:[e,a("div",{"data-carousel-waypoint":!0})]},c(e)?e.key:void 0))})}),m&&n&&a("div",{className:Z(tl.buttonWrapper,tl.back),children:a(tp,{icon:eG,label:t.string("common_Previous"),disabled:!n,onClick:o,dataAttributes:{"data-automation":"gai_dates_prompt_month_picker_previous_button"}})}),m&&s&&a("div",{className:Z(tl.buttonWrapper,tl.forward),children:a(tp,{icon:eq,label:t.string("common_Next"),disabled:!s,onClick:l,dataAttributes:{"data-automation":"gai_dates_prompt_month_picker_next_button"}})})]})})},tu=({month:e,disabled:t,onSelect:n})=>{var s=new Date().getMonth(),o=eQ.map((e,t)=>({...e,index:t})),l=[...o.slice(s),...o.slice(0,s)];return i(r,{children:[i(ea,{elementType:"p",variant:"title-05",marginBottom:"spacing-03",children:[a(ea,{elementType:"span",variant:"title-05",children:a(w,{id:"trips_gai_trip_prompts_month_selector_what_month"})})," ",a(ea,{elementType:"span",variant:"body-01",color:"placeholderText",children:a(w,{id:"trips_gai_trip_prompts_optional"})})]}),a("div",{children:a(eK,{children:l.map(r=>{var s=e===r.value;return i("button",{className:Z("jERBr f e u j _S V Re Gi Cj",{nDTnD:s}),onClick:()=>{n(r.value,r.index)},"aria-pressed":s,"aria-disabled":t,type:"button",disabled:t,"data-automation":`gai_dates_prompt_month_picker_${r.value}`,children:[a(eT,{}),a(ea,{marginTop:"spacing-02",elementType:"span",variant:"input-01",children:r.label})]},r.value)})})})]})},tm={daysContainer:"rUhXx f u k K Q3"},t_=()=>{var{localize:e}=N(),{state:t,dispatch:l}=tM(),d=F(),{userPrompts:p}=t,c=n(()=>[{state:"DATES",label:e.string("trips_v2_dates_modal_calendar_dates_title"),dataTestid:"Gai.selectDatesModeBtn",dataAutomation:"gai_dates_prompt_tab_dates"},{state:"DAYS",label:e.string("trips_gai_trip_prompts_dates_number_days_2"),dataTestid:"Gai.selectDaysModeBtn",dataAutomation:"gai_dates_prompt_tab_days"}],[e]),[u,m]=o(p.inexactDates?c[1].state:c[0].state),_=J(s(()=>{d("SelectDatesDays")},[d])),v=s(e=>{l({type:"setInexactDates",inexactDates:e===c[1].state}),m(e)},[l,c]);return a("div",{ref:_,children:a(eb,{states:c,onStateChange:v,activeState:u,children:u===c[0].state?a(eJ,{startDate:p?.dates?.startDate,endDate:p?.dates?.endDate,onDateRangeSelect:(e,t)=>{l({type:"setDates",dates:{startDate:e,endDate:t}}),e&&t&&(l({type:"setDays",days:O(e,t)}),l({type:"setDates",dates:{month:ta[e.getMonth()]}}))},maxRangeDays:7}):i(r,{children:[i("div",{className:tm.daysContainer,children:[a(ea,{variant:"title-05",children:a(w,{id:"trips_gai_trip_prompts_dates_total_days"})}),a(ef,{rangeMin:1,rangeMax:7,currentStepValue:p?.days,onStepChange:e=>{if(l({type:"setDays",days:e}),p.dates?.startDate&&p.dates?.endDate){var t=new Date(p.dates.startDate);t.setDate(t.getDate()+(e-1)),l({type:"setDates",dates:{startDate:p.dates.startDate,endDate:t}})}},minusLabel:"decrease",plusLabel:"increase",dataAttributes:{minusButton:{"data-automation":"gai_dates_prompt_days_minus_button"},plusButton:{"data-automation":"gai_dates_prompt_days_plus_button"}}})]}),a(eX,{month:p?.dates?.month,onSelect:(e,t)=>{if(l({type:"setDates",dates:{month:e}}),p.dates?.startDate&&p.dates?.endDate){var i=new Date,a=new Date(p.dates.startDate);a.setMonth(t),a.setFullYear(i.getFullYear()),t<a.getMonth()&&a.setMonth(t+1,0),a<i&&a.setFullYear(i.getFullYear()+1);var r=new Date(a);r.setDate(a.getDate()+(p.days-1)),l({type:"setDates",dates:{startDate:a,endDate:r}})}}})]})})})},tv={popularDestinationsSection:"DdpgC",popularDestinationsGrid:"CfwNA A",popularDestinationItem:"Re o",skeleton:"znqNa w"},tg=({text:e,image:t,onClick:r,dataAttributes:n})=>a(ey,{onClick:r,className:"npmng _R w",...n,children:i("div",{className:"eeTSx H0",children:[a(eg,{theme:"image",children:a(eh,{source:t,aspectRatio:"1:1",sizeHint:ev().sizeHint})}),a("div",{className:"sLKIf _U s l",children:a(ea,{variant:"title-04",color:"onDarkText",lineClamp:4,children:e})})]})}),th={__key:0xc3f1b0db9f4e,id:"c3f1b0db9f4eb247",loc:{},definitions:[]},ty={__key:0x9e560ebc1c11,id:"9e560ebc1c119280",loc:{},definitions:[]},tb=e=>Math.floor(Math.random()*e.length),tf=(e,t)=>{for(var i=[],a=[],r=new Map;i.length<t&&a.length<e.length;){var n=tb(e),s=!a.includes(n),o=e[n],l=o.locationV2?.names?.longOnlyHierarchyTypeaheadV2,d=l&&r.get(l)||[];a.push(n),l&&s&&d.length<2&&(i.push(e[n]),r.set(l,[...d,o]))}return i};function tT({popularDestinations:e,topPhotosMap:t,isLoading:r,onSelect:n}){var s=U();return e&&e.length>0&&t.size>0||r?i("div",{className:tv.popularDestinationsSection,children:[a(ea,{variant:"MOBILE"===s?"title-04":"title-03",marginBottom:"spacing-03",children:a(w,{id:"trips_v2_gai_where_step_popular_destinations_heading"})}),a("div",{className:tv.popularDestinationsGrid,children:r?[...Array(6).keys()].map(e=>a("div",{className:tv.skeleton,children:a(et,{width:"100%",height:"100%",display:"inline-block"})},e)):e?.map(e=>a("div",{className:tv.popularDestinationItem,children:a(e0,{text:e?.name,image:t.get(Number(e.locationId)),onClick:t=>{t.preventDefault();var{locationId:i,name:a}=e||{};i&&a&&n({locationId:i,locationName:a})},dataAttributes:{"data-automation":`gai_popular_destination_${e?.locationId}_card`}})},e?.locationId))})]}):null}var tD={__key:0xa60ccb3a8215,id:"a60ccb3a82155018",loc:{},definitions:[]},tP=()=>{var e=es();return s(t=>e.mutation(tD,{locationIds:[t]}).toPromise().then(()=>!0).catch(()=>!1),[e])};function tC(){var{state:e,dispatch:t,next:r}=tM(),o=F(),l=W(),p=function(){var[{data:e,fetching:t}]=en({query:th}),i=n(()=>e?.popularDestinations?tf(e.popularDestinations.filter(Boolean),6):null,[e?.popularDestinations]),[{data:a,fetching:r}]=en({query:ty,pause:!i||0===i.length,variables:{request:i?.filter(e=>!!e?.locationId).map(e=>({locationId:Number(e?.locationId),length:1}))||[]}});return{popularDestinations:i,topPhotosMap:n(()=>a?.PrimaryMedia_getTopPhotos?.reduce((e,t)=>(e.set(Number(t?.locationId),t?.photos?.[0]?.photo?.photoSizes),e),new Map)||new Map,[a]),isLoading:t||r}}(),c=e1(),u=e.userPrompts.location?.locationName,m=s(e=>i=>{i&&(t({type:"setLocation",location:i}),l("SelectDestination",{locationId:i.locationId,destinationEntered:i.locationName,isRecommended:e}),i.locationId&&c(i.locationId),r())},[t,l,r,c]);d(()=>{p.popularDestinations&&o("SelectDestination",{recommendedGeos:p.popularDestinations.map(e=>e?.locationId)})},[o,p.popularDestinations]);var _=s(e=>{e&&o("ErrorUnsupportedDestination",{customData:{destinationEntered:e,placement:"LocationScreen"}})},[o]);return i("div",{children:[a("div",{className:"aWQwA M_",children:a(eu,{onSelect:m(!1),initialQuery:u,onLocationNotFound:_})}),a(tT,{onSelect:m(!0),...p})]})}function tI({options:e,value:t,onChange:r}){var n=e=>{r(e)};return a("div",{className:"IGuso",children:e.map(e=>i("button",{onClick:()=>n(e.value),className:Z("UrjmR z e Pj PX Pw PJ Gi _S",{DAcuW:e.value===t}),"aria-label":`Select ${e.label}`,"aria-pressed":e.value===t,type:"button","data-automation":`gai_travelers_prompt_${e.value}_button`.toLowerCase(),children:[a("div",{className:"WECWG Cj",children:a(e.icon,{size:34,"aria-hidden":"true"})}),a("div",{children:a(ea,{variant:"title-04",children:e.label})})]},e.value))})}var tS={container:"aGrmb",includeChildren:"TDaNS",button:"nIRrZ",selectedButton:"RdpBL",travelingWithChildren:"swANc K",tooltipContainer:"eagNX _T",tipContent:"GDSNZ"};function tw(){var{state:e,dispatch:t}=tM(),r=F(),o=W(),l=e=>{t({type:"setTravelers",travelerType:e})},d=e=>{t({type:"setIncludeChildren",includeChildren:e})},p=s(()=>{r("SelectTravelers")},[r]),c=s(()=>{o("SelectChildrenTooltip")},[o]),u=J(p),m=n(()=>a("div",{className:tS.tipContent,children:a(w,{id:"trips_gai_modal_prompt_traveler_children_info"})}),[]);return i("div",{className:tS.container,ref:u,children:[a(tI,{onChange:e=>{("SOLO"===e||"SPOUSE"===e)&&d(!1),l(e)},options:eZ,value:e.userPrompts.travelerType}),"FAMILY"===e.userPrompts.travelerType||"FRIENDS"===e.userPrompts.travelerType?i("div",{className:tS.travelingWithChildren,children:[i(ea,{variant:"title-02",children:[a(w,{id:"trips_gai_modal_prompt_traveler_children"}),a("span",{className:tS.tooltipContainer,children:a(eR,{triggeringElement:a(eO,{size:16}),content:m,variant:"bottom-caret",alignment:"left",onShowTooltip:c,fitToContent:"expand"})})]}),i("div",{className:tS.includeChildren,children:[a(ey,{className:Z(tS.button,{[tS.selectedButton]:e.userPrompts.includeChildren}),onClick:()=>d(!0),"aria-label":"Yes","data-automation":"gai_travelers_prompt_children_yes_button",children:a(ea,{variant:"button-01",children:a(w,{id:"trips_gai_modal_prompt_traveler_children_yes"})})}),a(ey,{className:Z(tS.button,{[tS.selectedButton]:!e.userPrompts.includeChildren}),onClick:()=>d(!1),"aria-label":"No","data-automation":"gai_travelers_prompt_children_no_button",children:a(ea,{variant:"button-01",children:a(w,{id:"trips_gai_modal_prompt_traveler_children_no"})})})]})]}):null]})}var tN=e=>e?`${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getDate().toString().padStart(2,"0")}`:"MM/DD";function tk(e,t){switch(t.type){case"next":if(e.step===e2.length-1)return e;return{...e,validationError:void 0,step:e.step+1};case"previous":if(0===e.step)return e;return{...e,validationError:void 0,step:e.step-1};case"setStep":return{...e,validationError:void 0,step:t.step};case"reset":return e3;case"setActivities":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,activities:t.activities}};case"setDates":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,dates:{...e.userPrompts.dates,...t.dates}}};case"setDays":return{...e,userPrompts:{...e.userPrompts,days:t.days}};case"setIncludeChildren":return{...e,userPrompts:{...e.userPrompts,includeChildren:t.includeChildren}};case"setInexactDates":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,inexactDates:t.inexactDates}};case"setIsValidating":return{...e,isValidating:e.isValidating};case"setLocation":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,location:t.location,activities:[]},dynamicActivities:[]};case"setOtherActivities":return{...e,validationError:void 0,userPrompts:{...e.userPrompts,otherActivities:t.otherActivities}};case"setTravelers":return{...e,userPrompts:{...e.userPrompts,travelerType:t.travelerType}};case"setValidationError":return{...e,validationError:t.validationError};case"setDynamicActivities":return{...e,dynamicActivities:t.dynamicActivities};default:return e}}var tx=({initialLocation:e,children:t,initialStep:i})=>{var[r,o]=u(tk,e3),l=ec(),p=F(),{localize:c}=N(),m=s(async e=>{var{moderate:t}=e2[Math.max(0,e.step)];if(!e2[Math.max(0,e.step)].moderate)return null;var i=t?.(e);if(!i)return null;try{var a=await l(i);return a&&p("ProfanyActivityBlocker",{text:i}),a?c.string("trips_gai_trip_prompts_moderation_error"):null}catch(e){return Promise.reject(e)}},[l,p,c]),_=s(()=>o({type:"next"}),[]),v=s((e=0)=>o({type:"setStep",step:e}),[]),g=s(()=>o({type:"previous"}),[]),h=s(()=>o({type:"reset"}),[]),y=s(e=>o({type:"setIsValidating",isValidating:e}),[]),b=s(e=>o({type:"setLocation",location:e}),[]),f=s(e=>o({type:"setValidationError",validationError:e}),[]),T=e2[Math.max(0,r.step)],D=r.step<e2.length-1,P=r.step>0,C=(r.step+1)/e2.length*100;d(()=>{b(e)},[b,e]),d(()=>{v(i)},[v,i]);var I=n(()=>({currentStep:T,dispatch:o,moderate:m,next:_,previous:g,progress:C,reset:h,setIsValidating:y,setLocation:b,setValidationError:f,showNext:D,showPrevious:P,state:r}),[T,m,_,g,C,h,y,b,f,D,P,r]);return a(e4.Provider,{value:I,children:t})},tM=()=>{var e=_(e4);if(!e)throw Error("useGaiTripPrompts must be used within a GaiTripPromptsProvider");return e},tA={screen:"yWeHB",locationScreen:"udhXu",error:"LakkH"};function tE(){var{currentStep:e,state:t}=tM(),r=e.Component,n=s(e=>{e?.scrollIntoView({behavior:"smooth",block:"start"})},[]);return i("div",{className:Z({[tA.screen]:"default"===e.screenVariant,[tA.locationScreen]:"location"===e.screenVariant}),children:[a(eH,{title:e?.title,subtitle:e?.subtitle,align:e?.titleAlign,marginBottom:"spacing-05"}),t.validationError?a("div",{ref:n,className:tA.error,children:a(ez,{variant:"warning",children:a("span",{"data-invalid-input":"true","aria-live":"assertive",children:t.validationError})})}):null,a(r,{})]})}var tL={__key:0xcee736ea9542,id:"cee736ea95426067",loc:{},definitions:[]},tB={__key:0x8e4bdab4e964,id:"8e4bdab4e964fd76",loc:{},definitions:[]},tj={container:"LmIjA Mm Na MA NB u j",invisible:"wGhIz",visible:"IXFXy"},tG=({onLoginSuccess:e,onLoginFailure:t})=>{var[r,n]=o(!1),d=F(),p=J(s(()=>{d("SignInModal")},[d])),c=l(null);return i("div",{className:tj.container,ref:p,children:[a("div",{className:Z(tj.invisible,{[tj.visible]:r}),children:a(X,{flow:"CORE_COMBINED",flowOrigin:"login",pid:40612,forceLogin:!0,onLoginSuccess:e,onLoginFailure:t,onReady:()=>n(!0),forwardedRef:c,extraQueryParams:{contextualMessage:"trips_v2_login_gai_modal_title"}})}),a("div",{className:Z(tj.invisible,{[tj.visible]:!r}),children:a(ee,{variant:"large"})})]})};function tq({onTryLaterClick:e}){return i("div",{className:"LHvoR f e u c _Z j",children:[a(ea,{elementType:"p",variant:"title-02",marginBottom:"spacing-02",children:a(w,{id:"trips_error_smal_snag"})}),a(ea,{elementType:"p",variant:"body-01",marginBottom:"spacing-04",children:a(w,{id:"trips_error_slight_delay"})}),a(P,{variant:"primary",size:"medium",onClick:e,children:a(w,{id:"trips_error_try_again_later"})})]})}var tO={poster:"/img2/trips/loading-gai-preview.jpg",video:[{src:"https://site-assets-cdn.trips-prd.tamg.cloud/assets/trip_advisor_load_animation_cards_sparkles.mp4",type:"video/mp4"}]},tR={poster:"/img2/trips/loading-gai-preview-dark.jpg",video:[{src:"https://site-assets-cdn.trips-prd.tamg.cloud/assets/trip_advisor_load_animation_cards_sparkles_dark.mp4",type:"video/mp4"},{src:"https://site-assets-cdn.trips-prd.tamg.cloud/assets/trip_advisor_load_animation_cards_sparkles_dark.webm",type:"video/webm"}]};function tF({duration:e,locationName:t}){var{theme:r}=er(),{localize:l}=N(),p=n(()=>[l.string("trips_loading_state_message1",{sLocationName:t}),l.string("trips_loading_state_message2"),l.string("trips_loading_state_message3_fixed_no_escape",{nDuration:e})],[e,t,l]),[c,u]=o(0);d(()=>{var e=setInterval(()=>{c<p.length-1&&(u(e=>e+1),c===p.length-2&&clearInterval(e))},4e3);return()=>clearInterval(e)},[p.length,c]);var m=F();return i("div",{className:"hxpVB c f e u",ref:J(s(()=>{m("TripLoadingItinerary")},[m])),"data-automation":"gai_modal_loading_screen",children:[a("video",{disablePictureInPicture:!0,muted:!0,loop:!0,height:260,width:260,autoPlay:!0,playsInline:!0,poster:"LIGHT"===r?tO.poster:tR.poster,children:"LIGHT"===r?tO.video.map(e=>a("source",{src:e.src,type:e.type},e.src)):tR.video.map(e=>a("source",{src:e.src,type:e.type},e.src))}),a("div",{className:"GUqgV",children:a(ea,{variant:"body-01",children:p[c]})})]})}var tW=({primaryAction:e,showBack:t=!1,onBack:r=()=>{}})=>{var{localize:n}=N();return a("div",{className:"oURUk",children:i("div",{className:"TVKqF f",children:[t&&a(I,{onClick:r,children:n.string("mobile_back_8e0")}),a("div",{className:"ciMnF f NB",children:e})]})})},tz={__key:56623040765752,id:"337f943b1f38a391",loc:{},definitions:[]},tV={content:"QzsBG c z",buttons:"aqTjP f u j",loadingContentWrapper:"RxiZg f e u Ml Nl MK NN"};function t$({onLeave:e,onCancel:t,trip:s}){var o="MOBILE"===U(),l=n(()=>(s?.days||[]).flatMap(e=>e.items).map(e=>{var t=e.tripItem?.object?.object;if(!t)return null;var i=el(t);return i?{...i,id:i.id.toString()}:null}).filter(Boolean),[s]),[{fetching:d,data:p}]=en({query:tz,variables:{saveObjects:l},requestPolicy:"network-only",pause:!l});d||(p?.Trips_isSaved||[]).some(e=>!e)||e();var c=i("div",{className:tV.loadingContentWrapper,children:[a(ea,{variant:o?"title-04":"title-03",marginBottom:"spacing-03",children:a(w,{id:"trips_gai_modal_warning_fetching_status"})}),a(ee,{variant:"large"})]});return a(eo,{overrideContentStyling:!0,mobileContainerStyle:"inset",onClose:t,children:a("div",{className:tV.content,children:d?c:i(r,{children:[a(ea,{variant:o?"title-04":"title-03",marginBottom:"spacing-03",children:a(w,{id:"trips_gai_modal_warning_title_v2"})}),a(ea,{variant:"body-01",marginBottom:"spacing-04",children:a(w,{id:"trips_gai_modal_warning_body"})}),i("div",{className:tV.buttons,children:[a(P,{fullWidth:o,variant:"secondary",onClick:e,children:a(w,{id:"trips_gai_modal_warning_leave"})}),a(P,{fullWidth:o,onClick:t,children:a(w,{id:"trips_gai_modal_warning_go_back"})})]})]})})})}var tH={__key:0xb17369a3c529,id:"b17369a3c5291928",loc:{},definitions:[]},tQ=e=>"number"==typeof e,tU=e=>!!e&&("free"===e||"outage"===e),tY=([e,t],i,a)=>null!==i&&tQ(a)?!i||a>t?"full":a>=e?"limited":"free":"outage";function tZ(e,t,i){var[{fetching:a,data:r,error:n},s]=en({query:tH,pause:i,requestPolicy:"network-only",variables:{key:e}}),o=r?.Trips_getQueueStats?.availability,l=r?.Trips_getQueueStats?.averageProcessingTimeInMillis;return{refetch:s,status:void 0===o?null:tY(t,o,l),waitingTime:l,fetching:a,error:n}}var tJ=(e,t)=>"limited"!==tY(t,e?.data?.Trips_getQueueStats?.availability??null,e?.data?.Trips_getQueueStats?.averageProcessingTimeInMillis)||!!e?.error;function tK(){return a("div",{className:"f u j _Z",children:a(ei,{})})}var tX=e=>{var t=Math.round(e/1e3),i=Math.floor(t/60),a=15*Math.round(t%60/15);return a>=60&&(i++,a=0),[i,a]},t0=(e,t)=>{var i=1===e?`${e} minute`:`${e} minutes`,a=1===t?`${t} second`:`${t} seconds`;return 0===e?a:0===t?i:`${i} ${a}`},t1=(e,t)=>{var i=a(w,{id:"trips_gai_queue_wait_time_minute",args:{nMinute:`${e}`}}),r=a(w,{id:"trips_gai_queue_wait_time_second",args:{sSecond:`${t}`}});return 0===e?r:0===t?i:`${i} ${r}`};function t2({waitingTime:e,onCancel:t}){var r=z(),n=V(),[o,l]=tX(e),d=s(()=>{r("WaitInLineModal",{CapacityType:"Limited",ScreenType:"InFlow",InitialWaitTime:[o,l]})},[r,o,l]),p=s(()=>{n("ComebackLaterClick",{ScreenType:"InFlow",CapacityType:"Limited"}),t()},[n,t]);return a("div",{className:"f u j _Z",ref:K(d),children:i("div",{className:"mOHOu f e u c",children:[a(ei,{}),a(ea,{variant:"title-02",children:t1(o,l)}),a(ea,{variant:"body-01",children:a(w,{id:"trips_gai_queue_availablity_screen_dont_close_message"})}),a(P,{variant:"secondary",onClick:p,children:a(w,{id:"trips_gai_queue_availablity_screen_come_back"})})]})})}var t5=e=>"full"===e?"Full":"limited"===e?"Limited":"Outage",t3=e=>"entry"===e?"Entry":"InFlow";function t4({waitingTime:e,onCancel:t,onContinue:r,status:o,screenType:l}){var d=z(),p=V(),[c,u]=tX(e??0),m=t1(c,u),_=t0(c,u),v=s(()=>{d("CapacityModal",{CapacityType:t5(o),ScreenType:t3(l),DescriptionWaitTime:_})},[d,_,l,o]),g=s(()=>{p("ComebackLaterClick",{CapacityType:t5(o),ScreenType:t3(l),DescriptionWaitTime:_}),t()},[p,_,t,l,o]),h=s(()=>{p("WaitInLineClick",{CapacityType:"Limited",ScreenType:t3(l),DescriptionWaitTime:_}),r()},[p,_,r,l]);ep("beforeunload",s(()=>{p("BrowserExit",{CapacityType:t5(o),ScreenType:t3(l)})},[p,o,l]));var y=K(v),b=n(()=>c>=59?a(w,{id:"trips_gai_queue_availablity_screen_long_wait_message"}):a(w,{id:"trips_gai_queue_availablity_screen_wait_time_message",args:{sWaitTime:`${m}`}}),[c,m]);return a("div",{ref:y,className:"f u j _Z",children:i("div",{className:"aQQoJ f e u c",children:[a(ea,{variant:"title-02",children:a(w,{id:"trips_gai_queue_availablity_screen_capacity_message"})}),a(ea,{variant:"body-01",children:b}),"limited"===o&&a(P,{onClick:h,children:a(w,{id:"trips_gai_queue_availablity_screen_keep_going"})}),a(P,{variant:"secondary",onClick:g,children:a(w,{id:"trips_gai_queue_availablity_screen_come_back"})})]})})}var t6="TripBuilder",t9=e=>{var[,t,i]=e.split("/");return{hasTripBuilderFragment:t===t6,entrypointId:i}},t7=e=>`${te}${e}`,t8=()=>"";function ie({onClose:e,onTripGenerated:t,tripId:p,flowId:c}){var{cancel:u,generate:m,testStatus:_,tripId:v}=function(e){var[t,i]=o(),a=es(),r=l(!0),n=l(),d=s(()=>{r.current=!1,n.current&&clearTimeout(n.current)},[]),p=s(e=>new Promise((t,s)=>{var o=0;i(e);var l=e=>{o<10?(o+=1,n.current=setTimeout(()=>d(),5e3)):s(e)},d=()=>{r.current&&a.query(tB,{request:{tripId:e}},{requestPolicy:"network-only"}).toPromise().then(e=>{e.data?.Trips_getGeneratedTripStatus?.status==="COMPLETE"||e.data?.Trips_getGeneratedTripStatus?.status==="READY"?t(e.data?.Trips_getGeneratedTripStatus?.tripId):e.data?.Trips_getGeneratedTripStatus?.status==="ERROR"?s(e.data?.Trips_getGeneratedTripStatus?.error):e.error?l(e.error):n.current=setTimeout(()=>d(),5e3)}).catch(e=>{l(e)})};d()}),[a]);return{generate:s(t=>{r.current=!0;var i={};if(t.userPrompts.inexactDates){var n=t.userPrompts.dates?.month?function(e){var t=new Date;if(!e)return new Date(t.getFullYear(),t.getMonth()+1,1);var i=eQ.findIndex(t=>t.value===e),a=t.getFullYear();return i>=t.getMonth()?new Date(a,i,1):new Date(a+1,i,1)}(t.userPrompts.dates.month):void 0;i={approximateDate:{numberOfDays:t.userPrompts.days,month:n&&n.getMonth()+1,year:n?.getFullYear()}}}else i={exactDate:{startDate:t.userPrompts.dates?.startDate?.toISOString()||"",endDate:t.userPrompts.dates?.endDate?.toISOString()||""}};return new Promise((r,n)=>{a.mutation(tL,{request:{locationIds:t.userPrompts.location?.locationId?[t.userPrompts.location.locationId]:[],includesLocationIds:[],interestTags:t.userPrompts.activities,additionalInterests:t.userPrompts.otherActivities?.trim(),travelingWith:t.userPrompts.travelerType,includeChildren:t.userPrompts.includeChildren,tripDate:i,useQueueProcessing:!0,trackingToken:e}}).toPromise().then(e=>{var t=e.data?.Trips_createGeneratedTrip?.tripId??null;if(!t)throw Error("Could not generate trip");return t}).then(e=>p(e)).then(e=>r(e)).catch(e=>{n(e)})})},[a,e,p]),testStatus:p,tripId:t,cancel:d}}(c),{currentStep:h,moderate:b,next:f,previous:T,progress:D,reset:C,setIsValidating:I,setValidationError:S,showNext:k,showPrevious:M,state:G}=tM(),{localize:O}=N(),[V,$]=o(p),{status:Z,lastUpdated:J}=A(V),{trip:K,fetching:X}=E(V,J,Z),{showPlacesToStay:ee,savePlacesToStay:et,placesToStay:ei}=q(),ea=l(null),er=x(),en="MOBILE"===U(),{fragment:eo}=g(),[el,ep]=o(!1),[ec,eu]=o(!1),[em,e_]=o(!1),[ev,eg]=o(),[eh,ey]=o(!1),[eb,ef]=o(!1),[eT,eD]=o(!1),[eP,eC]=o(!1),[eI,eS]=o(!1),[ew,eN]=o(!1),[ek,ex]=o({}),{status:eM,waitingTime:eA,fetching:eE}=tZ("entry",[18e4,3e5],!er||eI),{refetch:eL,status:eB,waitingTime:ej,fetching:eG,error:eq}=tZ("preflight",[2e4,3e5],!eI),{status:eO,waitingTime:eR,fetching:eF,error:eW,timedOut:ez}=function(e,t){var[i,a]=o(!1),[r]=ed({query:tH,pollIntervals:e8,isResultComplete:t=>(i||a(!0),tJ(t,e)),pause:t});d(()=>{a(!1)},[t]);var{fetching:n,data:s,error:l}=r,p=s?.Trips_getQueueStats?.availability,c=s?.Trips_getQueueStats?.averageProcessingTimeInMillis,u=i&&!n&&!t&&!tJ(r,e),m=void 0===p?null:tY(e,p,c);return{status:t?null:m,waitingTime:c,fetching:n,timedOut:u,error:l}}([2e4,3e5],!ec),eV=W(),e$=H(),eH=F(),eU=z(),{isValidating:eY}=G;y(()=>{var{hasTripBuilderFragment:t}=t9(eo);t||e()},[eo]);var eZ="LOADING"===Z,eJ="COMPLETE"===Z&&!K,eK=s(async()=>{I(!0);var e=h.validate?.(G),t=await b(G).catch(()=>(e_(!0),O.string("trips_gai_modal_internal_error")));return(I(!1),e)?(S(e),!1):!t||(S(t),!1)},[h,b,I,S,G,O]),eX=s((e,t,i)=>{ex(a=>({...a,[e]:{...a[e],helpful:t,answers:i}}))},[]),e0=s(()=>{eH("TripDetailsFeedbackOverall",{tripId:V,...ek})},[eH,V,ek]),e1=s(()=>{eb?ef(!1):em?e_(!1):T()},[em,T,eb]),e2=s(()=>{if(K&&!ew)e$("TripDetailsExitItinerary",{tripId:V}),eD(!0);else{var t=h.type;eb&&(t="login"),ev&&(t="loading"),eV("ExitModal",{flowCompleted:!k,loadingScreen:t}),C(),e(),u()}},[u,h.type,ev,e,C,k,V,eb,eV,e$,K,ew]),e3=s(()=>{e$("TripDetailsCancelledExit",{tripId:V}),eD(!1)},[e$,V]),e4=s(()=>{e0(),e$("TripDetailsConfirmExit",{tripId:V}),eV("ExitModal",{flowCompleted:!0,loadingScreen:ev?"loading":"preview"}),C(),e()},[C,ev,e,e$,eV,e0,V]),te=s(async()=>{if(await eK()){var e=h.getTrackingData?.(G);e&&eV(e.itemName,e.customData),f()}},[f,eK,eV,h,G]),tt=s(async()=>{e_(!1),eg(!0),eV("TripSubmitoCreateItinerary",{locationId:G.userPrompts.location?.locationId?.toString()||"",locationName:G.userPrompts.location?.locationName||"",isDated:G.userPrompts.inexactDates?null:`${tN(G.userPrompts.dates?.startDate)} - ${tN(G.userPrompts.dates?.endDate)}`,isDays:G.userPrompts.inexactDates?`${G.userPrompts.days} - ${G.userPrompts.dates?.month}`:null,travelerType:G.userPrompts.travelerType,includeChildren:G.userPrompts.includeChildren,activities:G.userPrompts.activities.join(", "),otherActivities:G.userPrompts.otherActivities,signedInPrior:eP});try{var e=m(G),i=new Promise(e=>{setTimeout(e,e6)}),[a]=await Promise.all([e,i]);if(eg(!1),null===a){e_(!0);return}$(a),t?.(a)}catch(e){console.error(e),eg(!1),e_(!0),eH("LoadingError",{eventTimestamp:Date.now(),ErrorCode:e?.name||String(e)})}},[m,eP,G,eV,eH,t]);d(()=>{var e=!eG&&tU(eB),t=!eF&&tU(eO);void 0===ev&&(e||t)&&tt()},[tt,eB,eG,eF,eO,ev]);var ti=s(async()=>{if(v)try{eg(!0),_(v);var e=await _(v);if(eg(!1),null===e){e_(!0);return}$(e),t?.(e)}catch(e){console.error(e),eg(!1),e_(!0),eH("LoadingError",{eventTimestamp:Date.now(),ErrorCode:e?.name||String(e)})}else eI?(eg(void 0),eL()):eS(!0)},[v,_,eL,eI,eH,t]);d(()=>{!em&&(eW||ez||eJ||eq)&&e_(!0)},[em,eW,ez,eJ,eq]);var ta=s(e=>(t,i,a,r,n)=>{(e0(),"CREATED"===i)?(ey(!0),e$("TripDetailsCreateTrip",{tripId:V,saveType:e,tripCreationMethod:"GAI",title:K?.title,geo:K?.geoName,days:K?.days?.map(e=>({day:e.title,dayNarration:e.description,items:e?.items?.map((e,t)=>({itemId:e.id,itemNarration:e.gaiNarration,SaveCreationMethod:"GAI",GAIItemOrder:t+1,bookableExperienceId:L(e)}))}))})):eV("TripDetailsSavetoExisting",{saveType:e,sourceTripId:V,destinationTripId:a,destinationTripTitle:r,itemId:n})},[e$,eV,e0,K?.days,K?.geoName,K?.title,V]),tr=s((e,t)=>{"name"===e?eV("TripDetailsEditTrip",{tripId:V,title:t}):"privacy"===e&&eV("TripDetailsPrivacyClick",{tripId:V,isPublic:"PUBLIC"===t})},[V,eV]),tn=s(async()=>{if(await eK()){var e=h.getTrackingData?.(G);e&&eV(e.itemName,e.customData),er?(eC(!0),ti()):ef(!0)}},[h,ti,eV,G,er,eK]),ts=s(()=>{e_(!1),tn()},[tn]),to=s(async e=>{eV("SigninModal",{provider:e?.loginProvider}),eV("SignUpNow",{userId:e?.userId}),eV("SuccessfulSignUp",{isNewMember:e?.hasCreatedMember}),ef(!1),ti()},[ti,eV]),tl=n(()=>k?a(P,{variant:"primary",size:"medium",onClick:te,fullWidth:!0,disabled:eY,dataAttributes:{"data-automation":"gai_modal_next_button"},children:a(w,{id:"trips_gai_modal_next"})}):eb?null:a(P,{"aria-label":O.string("trips_gai_modal_loading"),fullWidth:!0,loading:eY,onClick:em?ts:tn,size:"medium",variant:"primary",dataAttributes:{"data-automation":"gai_modal_submit_or_retry_button"},children:em?O.string("trips_gai_modal_retry"):O.string("trips_general_submit")}),[te,ts,tn,em,eY,eb,k,O]);d(()=>{ep(tU(eM))},[eM]),d(()=>{("outage"===eM||"outage"===eB)&&eU("ContinueWithOutage",{CapacityType:"Outage",ScreenType:"outage"===eB?"InFlow":"Entry"})},[eM,eB,eU]);var td=n(()=>K?O.string("trips_gai_modal_title_geo_itinerary",{geoName:K?.geoName??""}):G.step>Number(e5.location)&&G.userPrompts?.location?.locationName?O.string("trips_gai_modal_title_geo_itinerary",{geoName:G.userPrompts.location.locationName??""}):"",[O,G,K]),tp=!ev&&!em&&!eb,tc=ev&&!V||V&&!K,tu=0;V&&K||(tu=tc?100:D);var tm=s(()=>{eI?eu(!0):ep(!0)},[eI]),t_=!el&&eM&&!tU(eM),tv=!ec&&eB&&!tU(eB),tg=!eF&&eO&&!tU(eO),th=tp&&V&&K,ty=!eb&&!t_&&!tv&&!tg&&!ez&&!eE&&!eF&&!tc&&!th&&!eZ,tb=!V&&!tc&&M&&!ez&&!ec&&!tv&&!tg,tf=n(()=>a(Y,{hideProgressBar:!!K,onClose:e2,progress:tu,showPoweredByAI:!K,title:td}),[K,e2,tu,td]),tT=s(e=>{var t=Q(er);if(ew&&t)return a(P,{variant:"gai",href:R({tripId:t,tab:eh?"Itinerary":"Saves",showHotelPicksTooltip:eh&&ee}),disabled:eY,dataAttributes:{"data-automation":"trips_gai_preview_trip_view_itinerary_button"},children:a(w,{id:"trips_gai_modal_view_trip"})});var i=ta("ITINERARY");return a(B,{onSave:e=>{i(void 0,e),eN(!0)},tripId:V??0,placesToStay:et?ei:void 0,tripTitle:V&&K?O.string("trips_gai_modal_save_trip_title_v2",{sLocation:K.geoName,duration:K.days.length,travelingWith:K.travelingWith||"",includeChildren:K.includeChildren?"Y":""}):void 0,onItemClick:(e,t)=>{eV("TripDetailsSavetoExisting",{saveType:"ITINERARY",sourceTripId:V,destinationTripId:e,destinationTripTitle:t})},onCreateTripInputChange:tr,position:e})},[et,er,ew,ta,V,ee,ei,K,O,tr,eh,eY,eV]),tD=n(()=>em||eW||ez||eJ?a(tq,{onTryLaterClick:eW?ts:e2}):eE||eG?a(tK,{}):t_?a(t4,{status:eM,waitingTime:eA,onCancel:e2,onContinue:tm,screenType:"entry"}):tv?a(t4,{status:eB,waitingTime:ej,onCancel:e2,onContinue:tm,screenType:"inFlow"}):tg?a(t4,{status:eO,waitingTime:eR,onCancel:e2,onContinue:tm,screenType:"inFlow"}):eb?a(tG,{onLoginSuccess:to}):eF?eR?a(t2,{onCancel:e2,waitingTime:eR}):a(tK,{}):tc?a(tF,{duration:G.userPrompts.days,locationName:G.userPrompts.location?.locationName||""}):tp&&!V?a(tE,{}):th?a(j,{loading:X||eZ,tripId:V,trip:K,scrollContainerRef:ea,onSaveFeedbackItem:eX,modalHeader:tf,onClose:e2,saveOrViewTripCta:tT,onIndividualSaveComplete:ta("ITEM")}):null,[ta,eM,X,eE,to,tm,e2,ts,em,th,tT,eF,eW,eR,eZ,eX,eA,tp,eb,G.userPrompts.days,G.userPrompts.location?.locationName,K,V,eB,ej,ez,t_,tv,eG,tc,eJ,tf,tg,eO]);return i(r,{children:[en&&th?null:tf,a(e9,{ref:ea,children:tD}),ty?a(e7,{onBack:e1,showBack:tb,primaryAction:tl}):null,eT?a(t$,{trip:K,onCancel:e3,onLeave:e4}):null]})}function it({onClose:e,presetLocation:t,initialStep:i,tripId:r,flowId:n,onTripGenerated:s}){return a(S,{modalBaseCustomClass:"Ma f e",children:a($,{flowId:n,children:a(tx,{initialLocation:t,initialStep:i,children:a(M,{children:a(G,{children:a(ie,{onClose:e,tripId:r,onTripGenerated:s,flowId:n})})})})})})}function ii({entrypointId:e,presetLocation:t,initialStep:i,onClose:r,onTripGenerated:n}){var d=e.toString(),[p,c]=o(),u=l(!1),[m,_]=o(),v=D(),{fragment:P}=g(),C=h(),{isTripsV2:I}=f(),{open:S,close:w}=b(()=>a(it,{onClose:N,presetLocation:t,tripId:p,flowId:m,initialStep:i,onTripGenerated:n}),{onOpen:()=>{u.current=!0,_(T())},onClose:()=>{u.current=!1,_(void 0)}}),N=s(()=>{C(t8(),"IN_PLACE"),w(),r?.(),c(void 0)},[r,w,C]),k=s(()=>{v({itemType:"GenerateTrip",itemName:"TripEntryClick",actionType:"click",customData:{entryPoint:"Trips Home"}}),C(t7(d))},[v,C,d]);return y(()=>{if(I){var{hasTripBuilderFragment:e,entrypointId:t}=t9(P);e&&t===d&&!u.current&&S()}},[I,u,P]),{open:k,close:N}}var ia={TripsMaster:"TripsMaster",TourismBuilderSection:"TourismBuilderSection",AttractionsCoverPage:"AttractionsCoverPage",HomeBuilderSection:"HomeBuilderSection"};return e("useGaiTripModal",ii),[()=>{eH=tt,eQ=[{value:"January",label:a(w,{id:"trips_gai_trip_prompts_january"},"trips_gai_trip_prompts_january")},{value:"February",label:a(w,{id:"trips_gai_trip_prompts_february"},"trips_gai_trip_prompts_february")},{value:"March",label:a(w,{id:"trips_gai_trip_prompts_march"},"trips_gai_trip_prompts_march")},{value:"April",label:a(w,{id:"trips_gai_trip_prompts_april"},"trips_gai_trip_prompts_april")},{value:"May",label:a(w,{id:"trips_gai_trip_prompts_may"},"trips_gai_trip_prompts_may")},{value:"June",label:a(w,{id:"trips_gai_trip_prompts_june"},"trips_gai_trip_prompts_june")},{value:"July",label:a(w,{id:"trips_gai_trip_prompts_july"},"trips_gai_trip_prompts_july")},{value:"August",label:a(w,{id:"trips_gai_trip_prompts_august"},"trips_gai_trip_prompts_august")},{value:"September",label:a(w,{id:"trips_gai_trip_prompts_september"},"trips_gai_trip_prompts_september")},{value:"October",label:a(w,{id:"trips_gai_trip_prompts_october"},"trips_gai_trip_prompts_october")},{value:"November",label:a(w,{id:"trips_gai_trip_prompts_november"},"trips_gai_trip_prompts_november")},{value:"December",label:a(w,{id:"trips_gai_trip_prompts_december"},"trips_gai_trip_prompts_december")}],Object.entries(eU={"must-see-attractions":{label:"Must-see Attractions",icon:eP},"hidden-gems":{label:"Hidden Gems",icon:eS},museums:{label:"Museums",icon:ew},history:{label:"History",icon:ex},culture:{label:"Culture",icon:ej},"great-food":{label:"Great Food",icon:eM},outdoors:{label:"Outdoors",icon:eN},"wine-beer":{label:"Wine & Beer",icon:eB},"arts-theatre":{label:"Arts & Theatre",icon:eE},"adventure-sports":{label:"Adventure and Sports",icon:eA}}).map(([e,{label:t,icon:i}])=>({label:a(ti,{icon:i,text:t}),value:e})),eY=Object.values(eU).map(({label:e})=>({label:e,value:e})),eZ=[{label:a(w,{id:"trips_gai_user_prompt_tag_going_solo"}),value:"SOLO",icon:eI},{label:a(w,{id:"trips_gai_user_prompt_tag_partner"}),value:"SPOUSE",icon:ek},{label:a(w,{id:"trips_gai_user_prompt_tag_friends"}),value:"FRIENDS",icon:eL},{label:a(w,{id:"trips_gai_user_prompt_tag_family"}),value:"FAMILY",icon:eC}],eJ=to,eK=tc,eX=tu,e0=tg,e1=tP,e5=(e2=[{title:a(w,{id:"trips_gai_trip_prompts_location_title"}),type:"location",titleAlign:"center",validate:e=>{if(!e.userPrompts.location?.locationId)return a(w,{id:"trips_gai_trip_prompts_location_error"})},getTrackingData:e=>({itemName:"SelectDestination",customData:{locationId:e.userPrompts.location?.locationId?.toString()||"",locationName:e.userPrompts.location?.locationName||""}}),Component:tC,screenVariant:"location"},{title:a(w,{id:"trips_gai_trip_prompts_dates_title"}),type:"dates",subtitle:a(w,{id:"trips_gai_trip_prompts_dates_subtitle_2"}),validate:e=>{if(1===e.step&&!e.userPrompts.inexactDates&&(!e.userPrompts.dates?.startDate||!e.userPrompts.dates?.endDate))return a(w,{id:"trips_gai_trip_prompts_dates_error"})},getTrackingData:e=>({itemName:"SelectDatesDays",customData:{isDated:e.userPrompts.inexactDates?null:`${tN(e.userPrompts.dates?.startDate)} - ${tN(e.userPrompts.dates?.endDate)}`,numDays:e.userPrompts.inexactDates?e.userPrompts.days:null,month:e.userPrompts.inexactDates&&e.userPrompts.dates?.month||null}}),Component:t_,screenVariant:"default"},{title:a(w,{id:"trips_gai_trip_prompts_traveler_title"}),type:"travelers",subtitle:a(w,{id:"trips_gai_trip_prompts_traveler_subtitle"}),Component:tw,getTrackingData:e=>({itemName:"SelectTravelers",customData:{travelerType:e.userPrompts.travelerType,includeChildren:e.userPrompts.includeChildren}}),screenVariant:"default"},{title:a(w,{id:"trips_gai_trip_prompts_activities_title"}),type:"activities",subtitle:a(w,{id:"trips_gai_trip_prompts_activities_subtitle"}),validate:e=>{if(0===e.userPrompts.activities.length&&!e.userPrompts.otherActivities?.trim())return a(w,{id:"trips_gai_trip_prompts_activities_error"})},moderate:e=>e.userPrompts.otherActivities?.trim(),getTrackingData:e=>({itemName:"SelectActivities",customData:{activities:e.userPrompts.activities.join(", "),otherActivities:e.userPrompts.otherActivities,dynamicActivities:e.dynamicActivities.join(", ")}}),Component:ts,screenVariant:"default"}]).reduce((e,t,i)=>({...e,[t.type]:i}),{}),e3={isValidating:!1,step:0,userPrompts:{activities:[],dates:void 0,days:3,includeChildren:!1,inexactDates:!1,location:void 0,otherActivities:"",travelerType:eZ[0].value},validationError:void 0,dynamicActivities:[]},e4=m(void 0),e6=12e3,e9=v((e,t)=>a("div",{className:"bmQZU _T H _Z",children:a("div",{ref:t,className:"tjrNS _Z",children:a("div",{className:"pZfbv z",children:e.children})})})),e7=tW,e8=Array(20).fill(15e3),e({GaiEntrypointKey:ia,SLASH_DELIMITED_TRIP_BUILDER_FRAGMENT:te=`/${t6}/`,getOpenedTripBuilderFragment:t7,useGaiTripModal:ii})},[e=>(i=e.jsxs,a=e.jsx,r=e.Fragment),e=>(n=e.useMemo,s=e.useCallback,o=e.useState,l=e.useRef,d=e.useEffect,p=e.Children,c=e.isValidElement,u=e.useReducer,m=e.createContext,_=e.useContext,v=e.forwardRef),e=>(g=e.useRoute,h=e.useNavigateToFragment),e=>y=e.useClientSideLayoutEffect,e=>b=e.useVDOMPortal,e=>f=e.useTripsVersion,e=>T=e.uuid,e=>D=e.useInteractionLogger,e=>(P=e.default,C=e.CircularButton,I=e.BorderlessButton),e=>S=e.default,e=>(w=e.default,N=e.useLocalize,k=e.useIntlFormatter),e=>x=e.useUserId,e=>M=e.ToastProvider,e=>(A=e.useGetGeneratedTripStatus,E=e.useGetGeneratedTrip,L=e.getBookableExperienceId,B=e.SaveToTripButton,j=e.GaiTripPreview),e=>(G=e.PlacesToStayProvider,q=e.usePlacesToStayContext),e=>(O=e.toDurationInDays,R=e.buildPublicTripShareUrl),e=>(F=e.usePromptsImpressionLogger,W=e.usePromptsInteractionLogger,z=e.useWaitTimeImpressionLogger,V=e.useWaitTimeInteractionLogger,$=e.GaiTrackingProvider,H=e.usePreviewInteractionLogger),e=>Q=e.getMostRecentlyAddedToTrip,e=>U=e.useViewportCategory,e=>Y=e.default,e=>Z=e.default,e=>(J=e.useOnVisible,K=e.useVisibleEffect),e=>X=e.AuthGate,e=>(ee=e.Spinner,et=e.Skeleton,ei=e.OllieSpinner),e=>ea=e.default,e=>er=e.useTheme,e=>(en=e.useQuery,es=e.useClient),e=>eo=e.ModalContainer,e=>el=e.getSATDModalSaveObject,e=>ed=e.usePollingQuery,e=>ep=e.useWindow,e=>ec=e.useModerateText,e=>eu=e.default,e=>(em=e.useAutoscrollingList,e_=e.ShelfContext,ev=e.useShelfContext),e=>eg=e.LinkStyle,e=>eh=e.default,e=>ey=e.default,e=>eb=e.default,e=>ef=e.default,e=>eT=e.default,e=>eD=e.default,e=>eP=e.default,e=>eC=e.default,e=>eI=e.default,e=>eS=e.default,e=>ew=e.default,e=>eN=e.default,e=>ek=e.default,e=>ex=e.default,e=>eM=e.default,e=>eA=e.default,e=>eE=e.default,e=>eL=e.default,e=>eB=e.default,e=>ej=e.default,e=>eG=e.default,e=>eq=e.default,e=>eO=e.default,e=>eR=e.HoverTooltip,e=>eF=e.SelectList,e=>eW=e.TextInput,e=>ez=e.InlineAlert,e=>(eV=e.default,e$=e.margin)]]},["21h32l","o4yt4q","fgwvq1","mb2nze","4euaes","juddza","eww825","sa2a6q","jppfwt","d8oes5","7thqz4","52far5","tr3542","a85j32","aj74qn","iyqcwg","ibebqy","uw9rn6","ys6v1o","6ri7kh","fkji80","3btuy0","hxluky","qndsds","essqvy","u9jlwp","mqwhqn","i3sz5h","xznza0","fbuhsy","ltllz9","mat2n7","7s4pzp","7yaz66","lr6tb6","34bu7w","6g4avl","qko6mu","gmrl4q","00mpxl","l6h0jh","s1ymgp","x55bmb","lzos1d","vwspdx","mim557","u9ykn9","fug67i","0792wk","o3mm96","nm5bm4","5zxkkr","yw8i09","q6pt2j","a55je0","a6i9w3","6qmqhw","zq967r","xm2jzo","kq4525","u3aiot","lt9m20","gw8uw6"]]);
