(this.$WP=this.$WP||[]).push(["665v5s",(e,r)=>{var s,i,t,o,n,a,d,l,p,u,I,c,m,g,h={__key:0x6eadf0d221b0,id:"6eadf0d221b05f71",loc:{},definitions:[]},v=e=>{var{children:r,...i}=e;return s(u,{value:i,children:r})},T=({source:e,attributes:r,children:i})=>{var t=o(p),[u,I]=n(),[c,m]=n(!1),g=!(Object.keys(t).length>0)||t.isImpressionLogged,[,T]=l(h),L=t.impressionId||null,f=r[e],b=a(()=>({[e]:r[e],parentId:L}),[e,L,JSON.stringify(r)]);return(d(()=>{g&&(m(!1),T({impressions:[b]}).then(({data:e})=>{if(e){var r=e&&e.logImpressions&&e.logImpressions[0];r&&(I(r),m(!0))}}))},[g,b,T]),f)?s(v,{impressionId:u,isImpressionLogged:c,children:i}):i},L=({trip:e,children:r,element:t,detailId:o,placeType:n})=>{var a=e.status||void 0;return s(I,{source:"tripsDetail",attributes:{tripsDetail:{tripId:e.id,status:a,relation:i(e),collaborative:!!e.collaborators&&e.collaborators.length>0,element:t,detailId:o,placeType:n}},children:r})},f={ALL_TRIPS:"ALL",PUBLIC_TRIPS:"PUBLIC",PRIVATE_TRIPS:"PRIVATE"},b=({trips:e,filterSelected:r,children:i})=>s(I,{source:"tripsHome",attributes:{tripsHome:{hasTrips:e&&e.length>0,filter:f[r]||"ALL"}},children:i}),P=(e,r)=>r?e?e&&e.owner&&!e.owner.isMe?"COLLABORATOR":e&&e.collaborators&&e.collaborators.length>0?"COLLABORATED":"EXISTING":"NEW":"FIRST",R=({element:e,trip:r,trips:i,item:t,children:o})=>{if(!e)return o;var n=i?i.length>0:void 0,a=r&&void 0!==n?P(r,n):void 0;return s(I,{source:"trips",attributes:{trips:{element:e,tripId:r&&r.id,tripType:a,hasTrips:n,dated:r&&!!r.date&&(!!r.date.to||!!r.date.from||!!r.date.duration),isSaved:t&&t.saved}},children:o})};return[()=>{p=t(Object.freeze({})),({Provider:u}=p),v.defaultProps={impressionId:void 0,isImpressionLogged:!1},I=T,c=L,m=b,g=R,e({TrackingImpressionContextProvider:v,TripTrackingImpression:p,TripsDetailImpression:c,TripsHomeImpression:m,TripsImpression:g})},[e=>s=e.jsx,e=>i=e.userRelation,e=>(t=e.createContext,o=e.useContext,n=e.useState,a=e.useMemo,d=e.useEffect),e=>l=e.useMutation]]},["21h32l","iyqcwg","o4yt4q","mqwhqn"]]);
