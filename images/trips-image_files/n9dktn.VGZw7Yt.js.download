(this.$WP=this.$WP||[]).push(["n9dktn",(e,t)=>{var n,a,s,i,r,o,c,l,u,d,m,p,f,g,h,b,v,k,y,w,O,C,_,T,B,P,S,D,H,q,N,j,x={container:"YDVuO Gs f",leftCol:"qrcQv f",rightCol:"WdQae f",message:"PYjqi",logo:"qeBDj f",cta:"q _S",closeButton:"QQOJq _Q"},V=e=>{var{localize:t}=B();switch(e){case"cyber-week-countdown":return{message:"PLUS-7139: Insert the countdown variant here!!!",cta:"TodoCta-PLUS-7139"};case"cyber-week-no-countdown":return{message:"PLUS-7139: Insert the no-countdown variant here!!!",cta:"TodoCta-PLUS-7139"};case"sign-in-is":return{message:t.string("plus_hotels_banner_sign_in_is"),cta:t.string("plus_hotels_banner_cta")};case"sign-in-vf":return{message:t.string("plus_hotels_banner_sign_in_vf"),cta:t.string("plus_hotels_banner_cta")};default:return null}},R=({position:e,variant:t,onClose:o,onCtaClick:c,onVisible:l=()=>{},positionOffset:u,scrollOffset:d,setFooterHeight:m})=>{var{localize:p}=B(),f=w(l),g=i(()=>{f.current&&f.current.clientHeight&&m&&m(f.current.clientHeight)},[f,m]);r(()=>(g(),()=>{m&&m(0)}),[m,g]);var h=V(t);return h?n(S,{position:e,positionOffset:u,scrollOffset:d,children:[n("div",{className:x.container,ref:f,id:"optimus-sticky-footer",children:[n("div",{className:x.leftCol,children:[a("div",{className:x.logo,children:a(T,{variant:"plus-logo-short-white",height:24})}),a("div",{className:x.message,children:n("span",{children:[a(_,{elementType:"span",variant:"body-01",color:"onDarkText",children:h.message}),h.cta&&n(s,{children:[a(D,{elementType:"span",marginRight:"spacing-01"}),a(_,{elementType:"span",variant:"button-02",color:"onDarkText",children:a("span",{className:x.cta,onClick:c,role:"button",tabIndex:0,onKeyDown:e=>{e?.key==="Enter"&&c()},children:h.cta})})]})]})})]}),a("div",{className:x.rightCol,children:a("div",{className:x.closeButton,children:a(O,{variant:"clear-on-dark",icon:C,"aria-label":p.string("common_Close"),onClick:o})})})]}),m&&a(P,{callback:g,throttle:100})]}):null},E={mobileOffset:0,tabletOffset:0,desktopOffset:0},L={mobileOffset:-200,tabletOffset:-200,desktopOffset:-200},I=()=>{var e=g();return{fetching:!1,bannerConfig:o(()=>e?Q(!1,e):null,[e,!1])}},Q=(e,t)=>t?{bannerVariant:e?"cyber-week-countdown":"cyber-week-no-countdown",position:"footer",positionOffset:E,scrollOffset:L}:(console.error("Unable to calculate banner config"),null),U=()=>y(),A="showingBannerOnPageView",M=["Attraction_Products","Attraction_Review","AttractionProductReview","AttractionProductsFusion","OptimusHotelCheckout","OptimusSubscriptionCheckout","Plus","Home","Hotel_Review","Hotels","HotelsHome","HotelsList","HotelsNear","SmartDeals","Tourism","HotelHighlight"],W=()=>h.get("sessionPreviouslyDismissedBanner")||0,z=({children:e,variant:t,maxDismissSession:n,onSkip:a,forceShow:s=!1})=>{var i=o(W,[]),[l,u]=c(!1),{enabled:d,fetching:m}=U(),p=b(),f=k(),g=!1,y=!1;switch(t){case"cyber-week-countdown":case"cyber-week-no-countdown":g=M.includes(f);break;case"plus-curation-phase-3":g=!v(f,!1),y="DESKTOP"===p}var w=i<n&&!g&&!y&&!d;return r(()=>{l||w||h.get(A)||s||m||!a||a()},[w,l,s,a,m]),r(()=>{!l&&w&&(h.set(A,!0),u(!0))},[w,l,a]),w||h.get(A)&&!g&&!d&&!m||s?e:null},F=({onDismiss:e})=>{var[t,s]=c(!1),[o,u]=c(!1),{fetching:g,bannerConfig:h}=q(),b=p(),v=f(),k=i(()=>{v({actionSubType:"OptimusBannerClick",actionType:"click",externalKey:j,itemName:"OptimusMarketingBanner",itemType:"optimusBannerCta",customData:{variant:h?.bannerVariant}}),h?.ctaRedirect?h?.ctaRedirect(j):s(!0)},[h,v]),y=i(()=>{v({actionSubType:"OptimusBannerClick",actionType:"click",externalKey:j,itemName:"OptimusMarketingBanner",itemType:"optimusBannerClose",customData:{variant:h?.bannerVariant}}),u(!0)},[h,v]),w=i(()=>{b({externalKey:j,itemName:"OptimusMarketingBanner",itemType:"optimusBanner",customData:{variant:h?.bannerVariant}})},[h,b]);if(d("Escape",()=>{y()}),r(()=>{!g&&(o||!h)&&e&&l(()=>{e()})},[h,o,g,e]),g||o||!h)return null;var{bannerVariant:O,modalVariant:C,position:_,positionOffset:T,scrollOffset:B}=h;return n(N,{variant:O,maxDismissSession:1,onSkip:()=>u(!0),children:[a(H,{position:_,variant:O,onClose:y,onCtaClick:k,onVisible:w,positionOffset:T,scrollOffset:B}),t&&C&&a(m,{variant:C,onClose:()=>s(!1)})]})};return[()=>{H=R,q=I,N=z,j=u(),e("default",F)},[e=>(n=e.jsxs,a=e.jsx,s=e.Fragment),e=>(i=e.useCallback,r=e.useEffect,o=e.useMemo,c=e.useState,l=e.startTransition),e=>u=e.uuid,e=>d=e.useKeyboardEvent,e=>m=e.default,e=>(p=e.useOptimusImpression,f=e.useOptimusInteraction),e=>g=e.useCyberWeekEnabled,e=>h=e.default,e=>b=e.useViewportCategory,e=>v=e.isFooterSupportedPage,e=>k=e.default,e=>y=e.useRecoBannerGuard,e=>w=e.useOnVisible,e=>O=e.CircularButton,e=>C=e.default,e=>_=e.default,e=>T=e.default,e=>B=e.useLocalize,e=>P=e.default,e=>S=e.Sticky,e=>D=e.Box]]},["21h32l","o4yt4q","eww825","gttbjc","bnv3wx","yc73mo","7g0c7c","tp1g68","ys6v1o","24j2l1","eqoaya","sbz3c6","3btuy0","jppfwt","qkjm8h","essqvy","sw5ax0","7thqz4","d6vj30","wrg2oq","lyyh8d"]]);
