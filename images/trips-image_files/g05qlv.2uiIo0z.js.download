(this.$WP=this.$WP||[]).push(["g05qlv",(e,t)=>{var n,r,o,u,a,i,c,s,l,h,d,v,f,m,g,T,y,p,S,b,w,L,P,x,I=()=>S?.matches?"DARK":"LIGHT",O=e=>{"addEventListener"in S?S.addEventListener("change",e):"addListener"in S&&S.addListener(e)},B=e=>{"removeEventListener"in S?S.removeEventListener("change",e):"removeListener"in S&&S.removeListener(e)},D={__key:0x685b7ad6643c,id:"685b7ad6643ca655",loc:{},definitions:[]},k=()=>b.current,A=(e=!0)=>{var t=T(D);return[b.current,r(e=>t({themeStore:e}),[t])]},C={};function E(e){return new Promise(function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}})}function j(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=E(n);return function(e,n){return r.then(function(r){return n(r.transaction(t,e).objectStore(t))})}}function M(){return w||(w=j("keyval-store","keyval")),w}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M();return t("readonly",function(t){return E(t.get(e))})}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M();return n("readwrite",function(n){return n.put(t,e),E(n.transaction)})}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M();return t("readwrite",function(t){return e.forEach(function(e){return t.put(e[1],e[0])}),E(t.transaction)})}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M();return t("readonly",function(t){return Promise.all(e.map(function(e){return E(t.get(e))}))})}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M();return n("readwrite",function(n){return new Promise(function(r,o){n.get(e).onsuccess=function(){try{n.put(t(this.result),e),r(E(n.transaction))}catch(e){o(e)}}})})}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M();return t("readwrite",function(t){return t.delete(e),E(t.transaction)})}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M();return e("readwrite",function(e){return e.clear(),E(e.transaction)})}function U(e,t){return e("readonly",function(e){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},E(e.transaction)})}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M(),t=[];return U(e,function(e){return t.push(e.key)}).then(function(){return t})}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M(),t=[];return U(e,function(e){return t.push(e.value)}).then(function(){return t})}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M(),t=[];return U(e,function(e){return t.push([e.key,e.value])}).then(function(){return t})}var H="theme",J=()=>L(H).then(e=>{if(null!=e&&"object"==typeof e&&"theme"in e&&"themePreferenceOrAuto"in e){var{theme:t,themePreferenceOrAuto:n}=e;return{theme:t,themePreferenceOrAuto:n}}}).catch(e=>{console.error("Error getting theme from IndexedDB",e)}),K=e=>P(H,e).catch(e=>console.error("Error saving theme to IndexedDB",e)),Q=()=>{var{isWebview:e}=y();return(p(),e)?{enableTheming:!0,canChangeThemes:!0}:{enableTheming:!1,canChangeThemes:!1}},X="themeChanged",Y=({initialThemeStore:e,children:t})=>{var{canChangeThemes:T,enableTheming:y}=x(),[p,S]=A(y),[b,w]=o((e??p)?.theme??f),[L,P]=o((e??p)?.themePreferenceOrAuto??m),D=u(()=>{});a(()=>()=>B(D.current),[]);var k=r((e,t)=>{var n=y?e:f;P(n);var r=document.body;if(null!=r){var o=s(n);r.classList.remove(...Object.values(l).map(String)),null!=o&&r.classList.add(o)}if(t?.syncToTabs!==!1)try{window.localStorage.setItem(X,n),window.localStorage.removeItem(X)}catch(e){}var u=e=>{w(e);var r={theme:e,themePreferenceOrAuto:n};t?.saveToService!==!1&&S(r),t?.saveToIndexedDB!==!1&&K(r)};"AUTO"===n?(u(I()),B(D.current),D.current=()=>{u(I())},O(D.current)):(u(n),B(D.current))},[S,y]),C=r(e=>{k(e,{saveToService:!1,saveToIndexedDB:!1,syncToTabs:!1})},[k]),{serviceWorker:E}=i(h);a(()=>{null!=e?k(e.themePreferenceOrAuto,E?{saveToIndexedDB:!1}:{saveToService:!1}):E?k(m,{saveToIndexedDB:!1,saveToService:!1}):J().then(e=>{null!=e?k(e.themePreferenceOrAuto,{saveToIndexedDB:!1}):k(m,{saveToIndexedDB:!1,saveToService:!1})})},[k,E,e]),v("storage",e=>{e.key===X&&null!=e.newValue&&C(e.newValue)});var j=d();return a(()=>{y&&j({itemType:"theme",customData:JSON.stringify({theme:b})})},[y,j,b]),n(g,{value:c(()=>y?{theme:b,themePreferenceOrAuto:L,canChangeThemes:T,setTheme:k,setThemeLocal:C}:{theme:f,themePreferenceOrAuto:f,canChangeThemes:!1,setTheme:()=>{},setThemeLocal:()=>{}},[b,L,y,T,k,C]),children:t})};return[()=>{S=globalThis.matchMedia?.("(prefers-color-scheme: dark)"),b={current:void 0},Object.defineProperty(C,"__esModule",{value:!0}),C.clear=F,C.createStore=j,C.del=N,C.entries=G,L=C.get=R,C.getMany=_,C.keys=V,C.promisifyRequest=E,P=C.set=q,C.setMany=W,C.update=z,C.values=$,x=Q,e({LithiumThemeProvider:Y,getInitialThemeStoreForServerSideRenderer:k,getInitialThemeStoreForServiceWorkerRenderer:J})},[e=>n=e.jsx,e=>(r=e.useCallback,o=e.useState,u=e.useRef,a=e.useEffect,i=e.useContext,c=e.useMemo),e=>(s=e.getBodyElementClassName,l=e.themeClassNames),e=>h=e.LithiumBootstrapContext,e=>d=e.default,e=>v=e.useWindow,e=>(f=e.defaultTheme,m=e.defaultThemePreferenceOrAuto,g=e.ThemeProvider),e=>T=e.useStatelessMutation,e=>y=e.useUserAgent,e=>p=e.useLanguage]]},["21h32l","o4yt4q","vpo3wt","p5p2yo","xg719z","ltllz9","u9jlwp","fbuhsy","nnprhg","7thqz4"]]);
