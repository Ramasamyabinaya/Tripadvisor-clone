(this.$WP=this.$WP||[]).push(["ns8l5r",(t,r)=>{var e,a,n,i,u,s,o,l;function c({tripId:t,saveObject:r,onClick:u,onSaveComplete:s,onUnsaveComplete:o,deferredUnsave:l}){var c=e(!!l),{launchErrorToast:v,launchItemRemovedToast:f,launchItemAddedToast:d}=i(),{state:p,save:h,unsave:m}=n(),b=a(async()=>{if(l)return c.current=!1,d(),s?.(),Promise.resolve({});var e=await h(t,r);return e.error||(d(),s?.()),e},[l,d,s,h,r,t]),w=a(async e=>{e.preventDefault(),e.stopPropagation(),u?.(e),(await m(t,r)).error?v():(f("",b),o?.())},[v,f,u,b,o,t,m,r]),g=a(async()=>{c.current&&((await m(t,r)).error?v():o?.())},[v,o,r,t,m]),y=a(t=>{c.current=!0,u?.(t),f("",b,g)},[u,f,b,g]);return{state:p,handleClick:l?y:w}}function v({tripId:t,itemId:r,saveObject:e,size:a,variant:n,dataAttributes:i,onClick:v,onSaveComplete:f,onUnsaveComplete:d,deferredUnsave:p}){var{localize:h}=l(),{handleClick:m,state:b}=c({tripId:t,saveObject:e,onSaveComplete:f,onUnsaveComplete:d,deferredUnsave:p,onClick:v});return u(s,{size:a,variant:n,icon:o,disabled:b.fetching,"aria-label":h.string("trip_detail_remove_from_trip"),onClick:m,dataAttributes:{"data-automation":`trip-unsave-button-item-${r}`,...i}})}return t({default:v,useUnsaveButton:c}),[()=>{t({default:v,useUnsaveButton:c})},[t=>(e=t.useRef,a=t.useCallback),t=>n=t.useTripSave,t=>i=t.default,t=>u=t.jsx,t=>(s=t.CircularButton,o=t.HeartFillIconSelected),t=>l=t.useLocalize]]},["o4yt4q","v1gmh9","x0lcjw","21h32l","jppfwt","7thqz4"]]);
