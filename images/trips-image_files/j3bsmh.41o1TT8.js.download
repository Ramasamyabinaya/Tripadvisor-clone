(this.$WP=this.$WP||[]).push(["j3bsmh",(e,n)=>{var s,a,t,o,r,i,l,c,d,u,p,h,g,m,_,v,f,w,M,y,b,C,I,k,S,T,N,E,q,x,R="GOOGLE_ONETAP",O=({enhancedGoogleOneTapGate:e})=>t(()=>e?{pid:40670,flow:R,deferShowOverlay:!0}:{pid:40185,flow:R,deferShowOverlay:!0},[e]),L=()=>{var e=o(()=>f.remove("g_state"),[]);return r(()=>e,[e]),e},j=(e={skipImpression:!0})=>{var{page:n,params:s}=w(),a="AttractionProductsFusion",t=n===a&&"contentId"in s&&null!=s.contentId&&s.contentId.length>0,o=M({experimentKeys:["disable_pop_ups_on__ap_1687359717"],skipImpression:e?.skipImpression,page:a},!t);return t&&o?.disable_pop_ups_on__ap_1687359717==="test"},G=({onNotDisplayed:e,onUserSkipped:n,onCredentialReady:s,onAutoCancelled:a,onGeneralSkipDismiss:c,containerId:d,flow:u,pid:p})=>{var h=i(null),[f,w]=l(!1),M=g(),y=k(),b=j({skipImpression:!1}),C=o((e,n)=>{M({module:"google_onetap",action:e,context:`${n}|${u}`,value:p})},[u,p,M]),I=o(e=>{e&&(C("credentials_success",e.select_by),s(e.credential),w(!1))},[s,C]),S=o((n,s)=>{!b&&(C("display_event",s||"success"),_(n),w(n),n||e())},[e,C,b]),T=o(e=>{C("skipped_event",e),w(!1),"user_cancel"===e?n():"auto_cancel"===e?a():c&&c("skipped",e)},[n,a,c,C]),N=o(e=>{C("dismiss_event",e),w(!1),"credential_returned"!==e&&c&&c("dismissed",e)},[C,c]),E=o(e=>{switch(y(),e.getMomentType()){case"display":S(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":T(e.getSkippedReason());break;case"dismissed":N(e.getDismissedReason())}},[y,N,T,S]),q=o(e=>{null===h.current&&(h.current=e,C("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:I,cancel_on_tap_outside:!1,prompt_parent_id:d,auto_select:!v()}),e.prompt(E))},[I,E,d,C]);return r(()=>{C("script_requested","na"),m("https://accounts.google.com/gsi/client","MEMX").then(()=>{var e=()=>q(window.google.accounts.id);window.google?.accounts?.id?.initialize?e():window.onGoogleLibraryLoad=e})},[q,C]),r(()=>()=>{h.current&&h.current.cancel()},[]),t(()=>({shown:f}),[f])},z=e=>e+61+49,A=()=>({top:z(0),bottom:0}),D=()=>document.getElementById("credential_picker_iframe"),P={oneTapMessageContainer:"ZkqhQ Gi B1 Z BB Cj Za",oneTapMessageMobileContainer:"SuwMt D Gi l",oneTapMessageInnerContainer:"QnnKe z",oneTapIcon:"MPoqM Cj",headline:"LcmJt Cj Hn o q f u",rtl:"wVHIl",subhead:"ZnAJV Cj o q"},B=({bottom:e})=>{var n=p(),{userAgentCategory:o}=C();return t(()=>"MOBILE"===o,[o])?s("div",{className:y(P.oneTapMessageMobileContainer,P.oneTapMessageContainer),style:{bottom:`${e||0}px`},children:s("div",{className:P.oneTapMessageInnerContainer,children:a("h3",{className:P.headline,children:[s("span",{className:P.oneTapIcon,children:s(b,{})}),s(u,{id:"onetap_message_unlock"})," "]})})}):s("div",{className:y(P.oneTapMessageContainer,{[P.rtl]:n}),children:a("div",{className:P.oneTapMessageInnerContainer,children:[a("h3",{className:P.headline,children:[s("span",{className:P.oneTapIcon,children:s(b,{})}),s(u,{id:"onetap_message_unlock"})," "]}),a("p",{className:P.subhead,children:[s(u,{id:"onetap_message_subhead_to_get_the_most"})," "]})]})})},F=({shown:e,isContextualMessagingEnabled:n,onShow:a})=>{var{bottom:t}=T(),[o,i]=l(!1),[c,d]=l(0);return r(()=>{if(!e)return()=>{};var s=D();if(s){if(s.style.bottom=`${t}px`,s.style.zIndex="10105",!n)return()=>{};var a,o=new MutationObserver(e=>{var n=e?.[0]?.target;if(n instanceof HTMLElement){clearTimeout(a);var s=parseInt(n?.style?.height||"0",10),t=isNaN(s)?0:s-9;a=setTimeout(()=>{d(t),i(t>0)},400)}});return o.observe(s,{attributes:!0}),()=>{o.disconnect(),clearTimeout(a)}}return()=>{}},[t,e,n]),r(()=>{e&&a&&a()},[e,a]),e&&o?s(N,{bottom:c+t}):null},$=({shown:e,containerId:n,isContextualMessagingEnabled:t,onShow:o})=>{var{top:c}=T(),[d,u]=l(!1),p=i(null);return r(()=>{if(e&&p&&p.current){var n=p.current.children[0];n&&(n.style.zIndex="10107",n.children&&0!==n.children.length&&(n.children[0].onload=()=>{u(t)}))}},[e,t]),r(()=>{e&&o&&o()},[e,o]),a("div",{className:y("mxEhR D y G- Za f e u",{LEMGe:!e}),style:{top:c},children:[d&&s(N,{}),s("div",{id:n,className:"hRNvt M0",ref:p})]})},Z=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],V="tripGoogleOnetapContainer",H=({trackWouldOpenExplicitPreferences:e,openExplicitPreferences:n,explicitPreferencesEnabled:a,servletName:t,enhancedGoogleOneTapGate:i,onDismiss:l,onShow:u,onSuccessfulLogin:p,onAutoCancelled:g,onGeneralSkipDismiss:m,triggerNext:_,suppressContextualMessage:v,onIFrameShown:f,isFullScreen:w,fullScreenHeader:M})=>{var y=c(),b=c(),C=I({enhancedGoogleOneTapGate:i}),k=h(),{shown:T}=S({onNotDisplayed:()=>{_(),l()},onUserSkipped:l,onAutoCancelled:()=>{g&&g()},onGeneralSkipDismiss:m,onCredentialReady:o(s=>{y({extraQueryParams:{google_id_token:s},isFullScreen:!!w,fullScreenHeader:M,onSwitchFlow:e=>{b(e)},onSuccess:s=>{p&&s&&s.userId&&p(!!s.hasCreatedMember,s.userId),s&&!0===s.hasCreatedMember&&(e&&e(),a&&n&&n())},onClose:()=>{x.has(k)||window.location.reload()},...C})},[a,M,w,k,y,C,p,n,b,e]),containerId:V,pid:C.pid,flow:C.flow});r(()=>{if(T){var e=D();e&&f&&f(e)}},[T,f]);var N=d(),R=!v&&(null==t||!Z.includes(t));return"MOBILE"===N?s(E,{shown:T,onShow:u,isContextualMessagingEnabled:R}):s(q,{shown:T,onShow:u,containerId:V,isContextualMessagingEnabled:R})};return[()=>{I=O,k=L,S=G,T=A,N=B,E=F,q=$,x=new Set(["en-US","es-AR","es-CL","es-CO","es-MX","es-PE","es-VE"]),e("default",H)},[e=>(s=e.jsx,a=e.jsxs),e=>(t=e.useMemo,o=e.useCallback,r=e.useEffect,i=e.useRef,l=e.useState),e=>c=e.default,e=>d=e.useViewportCategory,e=>(u=e.default,p=e.useRtl,h=e.useLocale),e=>g=e.useGARecorder,e=>m=e.importScript,e=>(_=e.setOneTapEligibility,v=e.userSignedOut),e=>f=e.default,e=>w=e.useRoute,e=>M=e.default,e=>y=e.default,e=>b=e.default,e=>C=e.useUserAgent]]},["21h32l","o4yt4q","lchj5q","ys6v1o","7thqz4","32pwc7","q7wvkq","cyrz7y","5gpqhx","fgwvq1","gugp1d","fkji80","ympq4z","nnprhg"]]);
