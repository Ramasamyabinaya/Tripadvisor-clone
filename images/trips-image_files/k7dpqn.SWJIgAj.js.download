(this.$WP=this.$WP||[]).push(["k7dpqn",(e,s)=>{var i,t,o,r,n,a,c,l,d,u,v,p,w,m,S,f,k={tripId:0},C={__key:0xf914dff39338,id:"f914dff393388ab2",loc:{},definitions:[]},R={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},h=e=>e&&R[e]?R[e].toUpperCase():void 0,U=e=>e&&(h(e)||h(e.replace(/^Mobile/u,""))),O=e=>"gaiTrip"===e?"unknown":e,H=({source:e,pageAsContext:s,saveObject:i,trackingContext:t,withSaveSession:o,withOrganizeSession:c})=>{var{page:v}=d(),{sessionUuid:S,sessionOrder:f,incrementOrder:k}=r(p),{sessionUuid:R,sessionOrder:h,incrementOrder:H}=r(w),g=r(u).impressionId||"",T=t||s&&v||void 0,{id:x,type:L}=i||{},A=O(L),{tripId:M}=r(m),P=n(()=>({detailId:x?`${x}`:void 0,saveType:A,tripId:M}),[x,A,M]),y=n(()=>o?{sessionType:"SAVE",sessionUuid:S,sessionOrder:f}:c?{sessionType:"ORGANIZE",sessionUuid:R,sessionOrder:h}:null,[h,R,f,S,c,o]),[,I]=l(C);return[a((s,i)=>{o?k():c&&H();var t,r=P;i&&(r={detailId:`${i.id}`,saveType:i.type});var n=window.location.pathname,a="Unknown"===T?n.match(/^\/([a-zA-Z0-9_]+)/)?.[1]||"Home":T;return I({interaction:{[e]:(t={elementClick:s.elementClick&&{puid:g,...r,context:a,...y,...s.elementClick},filterClick:s.filterClick&&{puid:g,...s.filterClick},modalSuccess:s.modalSuccess&&{puid:g,...P,context:a,...y,...s.modalSuccess},overflowClick:s.overflowClick&&{puid:g,...s.overflowClick,...y},overflowSuccess:s.overflowSuccess&&{puid:g,...y,...P,...s.overflowSuccess},linkReferenceClick:s.linkReferenceClick&&{puid:g,...s.linkReferenceClick}},["elementClick","modalSuccess"].forEach(e=>{t[e]&&t[e].context&&(t[e].context=U(t[e].context)||null),t[e]&&t[e].saveType&&(t[e].saveType=t[e].saveType.toUpperCase()),t[e]&&t[e].action&&(t[e].action=t[e].action.toUpperCase())}),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach(e=>{t[e]&&t[e].element&&(t[e].element=t[e].element.toUpperCase())}),["modalSuccess"].forEach(e=>{t[e]&&t[e].fields&&(t[e].fields=t[e].fields.map(e=>e.toUpperCase()))}),t)}})},[o,c,g,P,T,y,I,e,k,H]),g]},g=({children:e,source:s,pageAsContext:o,saveObject:r,trackingContext:n,withSaveSession:a,withOrganizeSession:c})=>{var[l,d]=H({source:s,pageAsContext:o,saveObject:r,trackingContext:n,withSaveSession:a,withOrganizeSession:c});return i(t,{children:e(l,d)})},T=()=>{var[e,s]=c({sessionUuid:v(),sessionOrder:0});return n(()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>s(e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1})),resetSession:()=>s({sessionUuid:v(),sessionOrder:0})}),[e])},x=({children:e})=>{var s=f();return i(p.Provider,{value:s,children:e})},L=({children:e})=>{var s=f();return i(w.Provider,{value:s,children:e})};return[()=>{p=o({sessionUuid:v(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}}),w=o({sessionUuid:v(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}}),m=o(k),g.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},S=g,f=T,e({LogInteractionMutation:C,OrganizeSessionProvider:L,OrganizeSessionTrackingContext:w,SaveSessionProvider:x,SaveSessionTrackingContext:p,SponsorshipTrackingContext:m,TripInteraction:S,getInteractionsContext:U,useTripInteraction:H})},[e=>(i=e.jsx,t=e.Fragment),e=>(o=e.createContext,r=e.useContext,n=e.useMemo,a=e.useCallback,c=e.useState),e=>l=e.useMutation,e=>d=e.useRoute,e=>u=e.TripTrackingImpression,e=>v=e.uuid]]},["21h32l","o4yt4q","mqwhqn","fgwvq1","665v5s","eww825"]]);
