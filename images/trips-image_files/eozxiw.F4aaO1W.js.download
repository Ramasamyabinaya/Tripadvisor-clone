(this.$WP=this.$WP||[]).push(["eozxiw",(e,i)=>{var a,r,t,n,l,o,d,s,c,m,p,h,u,g,v,_,T,f,y,I,b,C,k,w,A,N,P,x,S,R,z,E,D,U,F,O,W,j,L,B,q,G,M,$,Y,H,V="_blank",Z="AsFeaturedInWidget",Q="SimilarArticlesWidget",J="ShowTopic",K="ShowForum",X="Hotel_Review",ee="BRANDED",ei="photo",ea="video",er=({contentType:e})=>a(d,{variant:"sponsored",children:e===ee?a(s,{id:"branded_call_out_v2"}):a(s,{id:"article_sponsored_label"})}),et={container:"lBxlz z o Gi",containerSimilarArticlesWidget:"nauQO",imgContainer:"cRdEs w",smallerHeight:"WEpJv",about:"QTqke o e",articleTitle:"PAAUW",articleTitleSimilarArticles:"xpTZm",readingTime:"GnfRK o",description:"mopsZ o",authorDate:"qsGkp o",sponsoredPill:"ZTGvo Z1 Wf"},en=e=>{var i,{photo:t,route:d,authors:s,title:v,description:_,readTime:T,lastUpdatedAt:f,sponsorshipContentType:y,locationType:b,articleId:C}=e.article,k=I(),w=c(),A=h(),{localize:N}=m(),{page:P}=u(),x="similar-articles"===e.widgetType;f&&(i=w.formatDate("date_medium",new Date(f)));var S=a("span",{children:"â€¢"}),R=P===X||P===J||P===K,z=` ${N.string("orion.article.reading_time.min_read.v2",{0:T})}`,E=s?.[0]?.author?.name?N.string("article_by_author",{authorName:s?.[0]?.author?.name||""}):"",D=x?Q:Z,U=g(()=>{k({itemType:D,itemId:`${C}`,itemName:"ArticleCard",customData:JSON.stringify({locationType:b,route:d,sponsorshipContentType:y}),page:P,team:"TAPS",actionType:"click",pageUid:A})},[C,k,D,b,P,A,d,y]);return a("div",{className:n(et.container,{[et.containerSimilarArticlesWidget]:x}),children:r(o,{href:d,display:"block",theme:"none",target:V,onClick:U,children:[y&&a("div",{className:et.sponsoredPill,children:a(j,{contentType:y})}),a("div",{className:n(et.imgContainer,{[et.smallerHeight]:R}),children:a(l,{source:t,width:"100%",height:"100%",roundingSize:"large"})}),r("div",{className:et.about,children:[!x&&a("div",{className:n(et.articleTitle),children:a(p,{variant:"title-04",color:"primaryText",children:v})}),x&&a("div",{className:n(et.articleTitle,{[et.articleTitleSimilarArticles]:x}),children:a(p,{variant:"title-02",color:"primaryText",children:v})}),a("div",{className:et.readingTime,children:r(p,{variant:"supporting-01",color:"primaryText",children:[i," ",S,z]})}),a("div",{className:et.description,children:a(p,{variant:"supporting-01",color:"primaryText",children:_})}),a("div",{className:et.authorDate,children:a(p,{variant:"supporting-01",color:"primaryText",children:E})})]})]})})},el={mediaWrapper:"ArGPO o Mj Na MI NB",media:"ioSCd _C",progress:"ijccr s l",deleteButton:"aUNqD t _U"},eo=({media:e,progress:i,onDelete:t})=>{var n=URL.createObjectURL(e.file);return v(()=>()=>URL.revokeObjectURL(n),[n]),r("div",{className:el.mediaWrapper,children:["photo"===e.mediaType&&a("img",{className:el.media,src:n,alt:""}),"video"===e.mediaType&&r("video",{controls:!0,controlsList:"nodownload nofullscreen",className:el.media,children:[a("track",{default:!0,kind:"captions"}),a("source",{src:n,type:"video/mp4"})]}),null!=i&&a("div",{className:el.progress,children:a(E,{numSteps:e.file.size,currentStep:i})}),e.mediaId&&a("div",{className:el.deleteButton,children:a(w,{marginLeft:"spacing-02",icon:z,"aria-label":"Delete",margin:"spacing-02",title:"Delete",size:"small",onClick:()=>t(e.mediaId)})})]})},ed=(e,i,a=e=>e)=>{var n=e.match(i);return n?.index!=null?r(t,{children:[e.substring(0,n.index),a(n[1]||n[0]),e.substring(n.index+n[0].length)]}):e},es=({multipleMedia:e,mediaType:i,...r})=>{var t,{localize:l}=m();return t=e?"video"===i?l.string("new_videos_terms_of_use"):l.string("new_photos_terms_of_use"):"video"===i?l.string("new_video_terms_of_use"):l.string("new_photo_terms_of_use"),a("div",{className:n("QAmJs",U(r)),children:a(p,{variant:"supporting-01",elementType:"span",children:q(t,/<a .*>(.*)<\/a>/,e=>a(o,{theme:"inline",href:"/pages/terms.html",target:"_blank",children:e}))})})},ec=({mediaType:e,maxAllowedFiles:i,allowedFileTypes:t="photo"===e?[".jpg",".jpeg",".gif",".png"]:[".mp4",".m4v",".mov"],maxFileSize:n,...l})=>{var{localize:d}=m(),c="video"===e,h=`${d.string("mobile_help_center_url")}${c?"/articles/360024933773-Video-Guidelines":"/articles/200615067"}`;return r("div",{className:U(l),children:[a(p,{variant:"title-05",marginBottom:"spacing-02",children:a(s,{id:"flash_uploader_tips_and_guidelines_10d8"})}),r("ul",{children:[a("li",{children:a(p,{variant:"supporting-02",marginY:"spacing-01",children:c?a(s,{id:"video_upload_max_number",args:{nVideos:i}}):a(s,{id:"post_photo_tips_max_photos_guidelines",args:{maxPhotos:i}})})}),a("li",{children:a(p,{variant:"supporting-02",marginY:"spacing-01",children:c?a(s,{id:"video_upload_video_formats_accepted",args:{sFileExtentions:t.join(" ")}}):a(s,{id:"post_photo_accepted_formats"})})}),a("li",{children:a(p,{variant:"supporting-02",marginY:"spacing-01",children:a(s,{id:"file_size_limit_photo",args:{0:n/1024/1024}})})})]}),a(p,{variant:"supporting-02",marginTop:"spacing-03",children:q(c?d.string("video_upload_more_info_guidelines_link"):d.string("post_photo_more_info_2"),/<span>(.*)<\/span>/,e=>a(o,{theme:"inline",href:h,target:"_blank",children:e}))})]})},em={dropZone:"MtpTG _T f e u j c z Pi PW Pv PI",buttons:"f j",dragging:"GQgOb"},ep=e=>"photo"===e?S:R,eh=e=>{var{medias:i,maxFileSize:l,onCompletedUpload:o,maxAllowedFiles:d,onClose:s,mediaType:c,allowedFileTypes:m,setMedias:h}=e,{photos:u,open:g,progress:v,dragging:f}=N(e=>{var i=u.map((i,a)=>({...i,mediaId:e[a].mediaId}));h(e=>[...e,...i])}),y=i.length>1,I=i.length>0,b=_(()=>[...u,...i],[u,i]),C=d&&d>1?"files":"a file",w=d&&i.length<=d?d-i.length:d;return r(x,{widthOption:"fixed-40",onClose:s,children:[r(t,{children:[r("div",{className:n(em.dropZone,{[em.dragging]:f}),children:[a(k,{onClick:g,variant:"primary",size:"medium",disabled:!w,children:`Upload ${C}`}),a(p,{variant:"supporting-01",marginY:"spacing-03",color:w?void 0:"primaryLinkDisabled",children:"or"}),a(p,{variant:"title-05",marginY:"spacing-03",color:w?void 0:"primaryLinkDisabled",children:`Drag and drop ${C} from your desktop`})]}),b.map((e,r)=>a(T,{children:a(B,{media:e,progress:null!=v?v?.[r]:void 0,onDelete:e=>h(i.filter(i=>i.mediaId!==e))})},`${e.file.name}/${e.file.size}`))]}),!!w&&a(M,{mediaType:c,maxAllowedFiles:w,allowedFileTypes:m,maxFileSize:l||ep(c||"photo"),marginTop:"spacing-05"}),I?r(t,{children:[a(G,{multipleMedia:y,mediaType:c,marginTop:"spacing-02"}),r("div",{className:em.buttons,children:[a(k,{marginTop:"spacing-03",variant:"primary",size:"medium",onClick:()=>{o(i.map(e=>({mediaId:e.mediaId||0,mediaType:e.mediaType}))),s(),h([])},children:"Save"}),a(k,{marginTop:"spacing-03",marginLeft:"spacing-02",variant:"secondary",size:"medium",onClick:()=>{h([]),s()},children:"Cancel"})]})]}):a(k,{variant:"secondary",size:"medium",marginTop:"spacing-03",onClick:()=>s(),children:"Cancel"})]})},eu=({label:e,mediaType:i,maxAllowedFiles:n=1,isForCuration:l,maxFileSize:o,disabled:d,onCompletedUpload:s})=>{var[c,m]=f(!1),[p,h]=f([]),[u]=y(b);return r(t,{children:[a(k,{size:"small",disabled:d,onClick:()=>{m(!0)},variant:"secondary",children:e||`Upload ${i}`}),c&&a(P,{isForCuration:!0,mediaType:i,maxAllowedFiles:n,maxFileSize:o,beforePhotoUploadCheck:e=>e.length+p.length<=n||(u({node:a(C,{icon:A,children:`You can not upload more than ${n} file(s)`})}),!1),children:a($,{medias:p,mediaType:i,maxAllowedFiles:n,maxFileSize:o,isForCuration:l,onCompletedUpload:s,setMedias:h,onClose:()=>{m(!1),h([])}})})]})},eg={__key:0x8ea04a47885b,id:"8ea04a47885bec80",loc:{},definitions:[]},ev={__key:75279621346055,id:"44776716d307e18a",loc:{},definitions:[]},e_=({mediaId:e,mediaType:i})=>{var[{data:t,fetching:n}]=W({query:ev,variables:{videoIds:[+e]},pause:i!==ea,requestPolicy:"cache-and-network"}),[{data:o,fetching:d}]=W({query:eg,variables:{photoIds:[+e]},pause:i!==ei,requestPolicy:"cache-and-network"}),s=(t?.videos?.[0]?.sources?.map(e=>e?.url)?.filter(Boolean)||[]).find(e=>e.includes(".mp4")),c=o?.photos?.[0]?.photoSizeDynamic;return n||d?a(D,{variant:"small"}):(s||i!==ea)&&(c||i!==ei)?r("div",{className:"Mk",children:[i===ei&&a(l,{source:c,aspectRatio:"4:3",width:350,height:200}),i===ea&&r("video",{controls:!0,width:350,height:200,children:[a("track",{default:!0,kind:"captions"}),a("source",{src:s,type:"video/mp4"})]})]}):r(p,{variant:"supporting-03",marginY:"spacing-04",children:["Preview is not available. Check if the ",i," id is correct.",a("br",{}),"When a ",i," is uploaded, it can take up to 1 minute to be visible in preview section."]})},eT=({mediaId:e,label:i,disabled:t,mediaType:n,placeholder:l,errorText:o,maxLength:d,dataAttributes:s,maxAllowedFiles:c,withPreview:m,handleChangeMediaInput:p,onCompletedUpload:h})=>{var[u,g]=f(!1);return r("div",{className:"GUKFp Gm Mk Pj PX Pw PJ Z B2 BC",children:[a(O,{...s,maxLength:d,value:e,label:i,placeholder:l,errorText:o,onChange:p,type:"number",disabled:t,marginBottom:"spacing-02"}),e&&m&&r(k,{size:"small",onClick:()=>g(e=>!e),variant:u?"primary":"secondary",marginRight:"spacing-02",children:[u&&a(F,{size:14,marginBottom:"spacing-01"})," Preview"]}),a(eu,{mediaType:n,maxAllowedFiles:c,disabled:t,onCompletedUpload:e=>h(e[0].mediaId.toString())}),u&&e&&a(Y,{mediaType:n,mediaId:e})]})};return[()=>{j=er,L=en,B=eo,q=ed,G=es,M=ec,$=eh,Y=e_,H=eT,e({AFI_WIDGET:Z,ARTICLES_PAGE:"Articles",ARTICLE_ID:"forumPostId",ATTRACTION_REVIEW:"Attraction_Review",ArticleCard:L,BLANK:V,BRANDED_CONTENT_TYPE:ee,DETAIL_ID:"detailId",GEO_ID:"geoId",HOTEL_REVIEW:X,MediaUploader:eu,MediaUploaderField:H,PHOTO:ei,RESTAURANT_REVIEW:"Restaurant_Review",SHOW_FORUM:K,SHOW_TOPIC:J,SIMILAR_ARTICLES_WIDGET:Q,SponsorshipContentCallOut:j,TOURISM:"Tourism",TRIPS_PAGE:"Trips",TRIP_ID:"tripId",VIDEO:ea})},[e=>(a=e.jsx,r=e.jsxs,t=e.Fragment),e=>n=e.default,e=>l=e.default,e=>o=e.default,e=>d=e.default,e=>(s=e.default,c=e.useIntlFormatter,m=e.useLocalize),e=>p=e.default,e=>(h=e.usePageviewUid,u=e.useRoute),e=>(g=e.useCallback,v=e.useEffect,_=e.useMemo,T=e.Fragment,f=e.useState,y=e.useContext),e=>I=e.default,e=>(b=e.Toast,C=e.ToastItem),e=>(k=e.default,w=e.CircularButton),e=>A=e.default,e=>(N=e.useCustomPhotoUpload,P=e.CustomPhotoUploadProvider),e=>x=e.Modal,e=>(S=e.maxImageUploadSizeInBytes,R=e.maxVideoUploadSizeInBytes),e=>z=e.default,e=>(E=e.default,D=e.Spinner),e=>U=e.margin,e=>F=e.default,e=>O=e.TextInput,e=>W=e.useQuery]]},["21h32l","fkji80","34bu7w","lr6tb6","oz3g7e","7thqz4","essqvy","fgwvq1","o4yt4q","r73jw8","tr3542","jppfwt","gcjubj","iahtok","i3sz5h","714tj5","qkjm8h","qndsds","gw8uw6","m49sy3","u3aiot","mqwhqn"]]);
